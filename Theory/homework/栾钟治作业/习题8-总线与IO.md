# 第一题

传输一个字符所需位数：$1+7+1+1=10$ bit

每秒需传输 $480$ 字符，所以每秒需传输 $4800$ bit

数据传输率为 $4800$ bps



# 第二题

处理 $N$ 个数据需时：$N\times P+Q$ 

每秒可跟踪的中断请求：$\frac{N}{N\times P+Q}$



# 第三题

$CPU$ 收取信息的时间：$\frac{1}{40000}=25 us$ 

但因中断程序时间 $>$ $CPU$ 收取信息的时间，所以会造成数据丢失，因此不能用程序的中断方式与主机交换信息。



# 第四题

磁盘转速：$\frac{3000}{60}=50$ 转$/$秒

磁盘每秒传送信息量：$1KB\times8\times50=400KB$ 

若采用 $DMA$ 方式，每秒需请求次数：$\frac{400KB}{16}=200K$ 次

请求周期为 $\frac{1}{200K}=5us$ 

所以一条指令执行结束后相应 $DMA$ 请求，会造成数据丢失。

因此可采用按照每个存取周期结束相应 $DMA$ 请求的方案



# 第五题

磁盘容量：$H\times C\times S\times N$

磁盘传输率：$\frac{8NW}{60}=\frac{2}{15}NW$

<div style="page-break-after: always;"></div>

# 第六题

分要点简述：调用中断服务程序和调用子程序的主要区别：

* 中断服务程序与主程序是相互独立的，它们之间没有确定的关系。子程序调用时，转入的子程序与CPU正在执行的程序是同一程序的两个部分。
* 除软中断外，通常中断产生是随机的。而子程序调用是由子程序调用指令引起的，是编程时预先安排好的。
* 中断服务程序的入口地址由向量地址找到。而子程序入口地址通常是由 Call 指令中的地址码给出。
* 两种调用都需要保护程序断点，但前者通过中断隐指令完成，而后者由 Call 指令本身完成。
* 处理中断服务程序时，对多个同时发生中断需进行仲裁，而调用子程序时一般没有这种操作。

在程序中断方式中，磁盘申请中断的优先级高于打印机。当打印机正在打印时，磁盘申请中断，试问是否要将打印机的打印操作停下来，等磁盘操作结束后，打印机才能继续打印？为什么？

* 一般上打印机的打印动作只受到打印机本身的控制，与处理器并没有直接的关系，因此当打印机正在打印时，即使有优先级更高的中断请求，打印机也不会停止打印。
* 如果处理器正在执行打印机中断服务程序若接收到磁盘的中断请求，则 CPU 就要中断正在运行的打印机中断程序，向打印机的数据传授会受到影响。



# 第七题

(1) 数据传输率：$\frac{6000}{60}\times16\times512=819200$ bytes/s

(2) 转速：$\frac{6000}{60}=100$ 转$/$秒

磁盘每秒传送信息量：$512B\times16\times100=800KB$ 

每秒需 $DMA$ 请求的次数：$\frac{800KB}{64}=100K$ 

请求周期为：$\frac{1}{100K}=10us$ 

所以一条指令执行结束后相应 $DMA$ 请求，会造成数据丢失。

因此可采用按照每个存取周期结束相应 $DMA$ 请求的方案



# 第八题

(1) 同步总线

(2) 最长总线事务的传输率是最高的，所以最大数据传输率为 $1163.636$ MBps

(3) $\frac{400M}{4}\times4=400$ MBps

(4) $\frac{400M}{11}\times8\times4=1163.636$ MBps

<div style="page-break-after: always;"></div>

# 第九题

(1)	在中断方式下，每 $32$ 位被中断一次，故每秒中断 $\frac{0.5MB}{4B}=0.5\times10^6=12.5\times10^4$ 

​		 要注意的是，这里是数据传输率，所以 $1MB=10^6B$ 。因为中断服务程序包含 $18$ 条指令，中断服务的其它开销相当于 $2$ 条指令的执行时间，且执行每条指令平均需 $5$ 个时钟周期，所以，$1$ 秒内用于中断的时钟周期数为
$$
(18+2)\times 5\times12.5\times10^4=12.5\times10^6\\
\frac{12.5\times10^6}{500\times10^6}\times100\%=2.5\%
$$
(2)	在 $DMA$ 方式下，每秒进行 $DMA$ 操作 $\frac{5MB}{5000B}=1\times10^3$ 次因为 $DMA$ 预处理和后处理总开销为 $500$ 个时钟周期，所以 $1$ 秒钟之内用于 $DMA$ 操作的时钟周期数为 $500\times1\times10^3=5\times10^5$ 

故在 $DMA$ 方式下，占整个 $CPU$ 时间的百分比是
$$
\frac{5\times10^5}{500\times10^6}\times100\%=0.1\%
$$
